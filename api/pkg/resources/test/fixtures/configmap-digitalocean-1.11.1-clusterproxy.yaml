data:
  server.conf: "map $http_upgrade $connection_upgrade {\n\t  default upgrade;\n\t
    \ '' close;\n  }\n\n  server {\n      listen 3001;\n\t  server_name clusterproxy-de-test-01.app.testdc.foo.bar;\n\t
    \ resolver 192.0.2.14 valid=30s;\n\n      location /healthz {\n          access_log
    off;\n          return 200 \"healthy\\n\";\n      }\n\n\t  location / {\n\t\t
    \ set $upstream \"linkerd-web.linkerd.svc.cluster.local:8084\";\n\t\t  proxy_pass
    http://$upstream$uri$is_args$args;\n\t\t  proxy_http_version 1.1;\n\t\t  proxy_pass_request_headers
    on;\n          proxy_set_header Origin \"\";\n\t\t  proxy_set_header Upgrade $http_upgrade;\n\t\t
    \ proxy_set_header Connection $connection_upgrade;\n\t  }\n  }\n\n  server {\n\t
    \ listen 3000;\n\t  server_name clusterproxy-de-test-01.app.testdc.foo.bar;\n\t
    \ resolver 192.0.2.14 valid=30s;\n\n      location /healthz {\n          access_log
    off;\n          return 200 \"healthy\\n\";\n      }\n\t  location = /prometheus
    {\n\t\t  return 302 https://$server_name/prometheus/;\n\t  }\n\t  location /prometheus/
    {\n\t\t  set $upstream \"syseleven-monitoring-prome-prometheus.syseleven-monitoring.svc.cluster.local:9090\";\n\t\t
    \ rewrite ^/prometheus(/.*) $1 break;\n\t\t  proxy_pass http://$upstream$uri$is_args$args;\n\t\t
    \ proxy_http_version 1.1;\n\t\t  proxy_pass_request_headers on;\n\t  }\n\t  location
    = /grafana {\n\t\t  return 302 https://$server_name/grafana/;\n\t  }\n\t  location
    /grafana/ {\n\t\t  set $upstream \"syseleven-monitoring-grafana.syseleven-monitoring.svc.cluster.local:80\";\n\t\t
    \ rewrite ^/grafana(/.*) $1 break;\n\t\t  proxy_pass http://$upstream$uri$is_args$args;\n\t\t
    \ proxy_http_version 1.1;\n\t\t  proxy_pass_request_headers on;\n\t  }\n\t  location
    = /alertmanager {\n\t\t  return 302 https://$server_name/alertmanager/;\n\t  }\n\t
    \ location /alertmanager/ {\n\t\t  set $upstream \"syseleven-monitoring-prome-alertmanager.syseleven-monitoring.svc.cluster.local:9093\";\n\t\t
    \ rewrite ^/alertmanager(/.*) $1 break;\n\t\t  proxy_pass http://$upstream$uri$is_args$args;\n\t\t
    \ proxy_http_version 1.1;\n\t\t  proxy_pass_request_headers on;\n\t  }\n\t  location
    = /webterminal {\n\t\t  return 302 https://$server_name/webterminal/;\n\t  }\n\t
    \ location /webterminal/ {\n\t\t  set $upstream \"webterminal.webterminal.svc.cluster.local:9000\";\n\t\t
    \ rewrite ^/webterminal(/.*) $1 break;\n\t\t  proxy_pass http://$upstream$uri$is_args$args;\n\t\t
    \ proxy_http_version 1.1;\n\t\t  proxy_pass_request_headers on;\n\t\t  proxy_set_header
    Upgrade $http_upgrade;\n\t\t  proxy_set_header Connection $connection_upgrade;\n\t
    \ }\n\t  location = /weave-scope {\n\t\t  return 302 https://$server_name/weave-scope/;\n\t
    \ }\n\t  location /weave-scope/ {\n\t\t  set $upstream \"syseleven-weave-scope-weave-scope.syseleven-weave-scope.svc.cluster.local:80\";\n\t\t
    \ rewrite ^/weave-scope(/.*) $1 break;\n\t\t  proxy_pass http://$upstream$uri$is_args$args;\n\t\t
    \ proxy_http_version 1.1;\n\t\t  proxy_pass_request_headers on;\n\t\t  proxy_set_header
    Upgrade $http_upgrade;\n\t\t  proxy_set_header Connection $connection_upgrade;\n\t
    \ }\n\t  location = /kubernetes-dashboard {\n\t\t  return 302 https://$server_name/kubernetes-dashboard/;\n\t
    \ }\n\t  location /kubernetes-dashboard/ {\n\t\t  set $upstream \"kubernetes-dashboard.syseleven-kubernetes-dashboard.svc.cluster.local:80\";\n\t\t
    \ rewrite ^/kubernetes-dashboard(/.*) $1 break;\n\t\t  proxy_pass http://$upstream$uri$is_args$args;\n\t\t
    \ proxy_http_version 1.1;\n\t\t  proxy_pass_request_headers on;\n\t\t  proxy_set_header
    Upgrade $http_upgrade;\n\t\t  proxy_set_header Connection $connection_upgrade;\n\t
    \ }\n\t  location = /netdata {\n\t\t  return 302 https://$server_name/netdata/;\n\t
    \ }\n\t  location /netdata/ {\n\t\t  set $upstream \"netdata.syseleven-netdata.svc.cluster.local:19999\";\n\t\t
    \ rewrite ^/netdata(/.*) $1 break;\n\t\t  proxy_pass http://$upstream$uri$is_args$args;\n\t\t
    \ proxy_http_version 1.1;\n\t\t  proxy_pass_request_headers on;\n\t\t  proxy_set_header
    Upgrade $http_upgrade;\n\t\t  proxy_set_header Connection $connection_upgrade;\n\t
    \ }\n\t  location = /ui {\n\t\t  return 302 https://$server_name/ui/;\n\t  }\n\t
    \ location /ui/ {\n\t\t  set $upstream \"syseleven-vault-ui.syseleven-vault.svc.cluster.local:8200\";\n\t\t
    \ proxy_pass http://$upstream$uri$is_args$args;\n\t\t  proxy_http_version 1.1;\n\t\t
    \ proxy_pass_request_headers on;\n\t\t  proxy_set_header Upgrade $http_upgrade;\n\t\t
    \ proxy_set_header Connection $connection_upgrade;\n\t  }\n\t  location = /v1
    {\n\t\t  return 302 https://$server_name/v1/;\n\t  }\n\t  location /v1/ {\n\t\t
    \ set $upstream \"syseleven-vault-ui.syseleven-vault.svc.cluster.local:8200\";\n\t\t
    \ proxy_pass http://$upstream$uri$is_args$args;\n\t\t  proxy_http_version 1.1;\n\t\t
    \ proxy_pass_request_headers on;\n\t\t  proxy_set_header Upgrade $http_upgrade;\n\t\t
    \ proxy_set_header Connection $connection_upgrade;\n\t  }\n\t  location = /rabbitmq
    {\n\t\t  return 302 https://$server_name/rabbitmq/;\n\t  }\n\t  location /rabbitmq/
    {\n\t\t  set $upstream \"syseleven-rabbitmq.syseleven-rabbitmq.svc.cluster.local:15672\";\n\t\t
    \ rewrite ^/rabbitmq(/.*) $1 break;\n\t\t  proxy_pass http://$upstream$uri$is_args$args;\n\t\t
    \ proxy_http_version 1.1;\n\t\t  proxy_pass_request_headers on;\n\t  }\n  }\n"
metadata:
  creationTimestamp: null
  labels:
    app: clusterproxy
